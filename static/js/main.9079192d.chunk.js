(this["webpackJsonpusers-table"]=this["webpackJsonpusers-table"]||[]).push([[0],{16:function(e,t,r){e.exports={usersTable:"Table_usersTable__1k1xp",activeRow:"Table_activeRow__3C0W5"}},17:function(e,t,r){e.exports={userInfoBlock:"UserInfo_userInfoBlock__1QgwS",userInfoMessage:"UserInfo_userInfoMessage__kGkA1"}},21:function(e,t,r){e.exports={searchBlock:"SearchByName_searchBlock__2700K"}},27:function(e,t,r){},34:function(e,t,r){"use strict";r.r(t);var s=r(1),a=r.n(s),c=r(9),n=r.n(c),i=(r(27),r(12)),l=r(18),o=r(4),u=r(22),d=r(2),j="GET_ALL_USERS",p="SET_ERROR",f="SET_IS_LOADING",b="SET_CURRENT_USER_DATA",O="SET_USER_INFO",h="FILTER_BY_STATE",x="SET_SORT_BY",g="SET_SORT_BY_STRING",m="SET_SORT_BY_ADRESS_STATE",_="FILTER_BY_FIRST_NAME",y="SHOW_ALL_STATES",U={allUsers:[],filteredUsers:[],isLoading:!1,error:!1,currentUsersData:[],usersAdressStates:[],selectedUser:null,pageLimit:20,currentPage:1,totalPages:null,sortBy:"id asc"},v=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.b,N=Object(i.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(d.a)(Object(d.a)({},e),{},{usersAdressStates:Object(u.a)(new Set(t.payload.map((function(e){return e.adress.state})))),allUsers:t.payload.sort((function(e,t){return e.id-t.id})),filteredUsers:t.payload.sort((function(e,t){return e.id-t.id})),currentUsersData:t.payload.slice(0,20),totalPages:Math.ceil(t.payload.length/e.pageLimit)});case p:return Object(d.a)(Object(d.a)({},e),{},{error:t.payload});case b:var r=1===t.payload?0:(t.payload-1)*e.pageLimit+1,s=t.payload*e.pageLimit+1;return Object(d.a)(Object(d.a)({},e),{},{currentPage:t.payload,selectedUser:null,currentUsersData:e.filteredUsers.slice(r,s)});case O:return Object(d.a)(Object(d.a)({},e),{},{selectedUser:e.currentUsersData.find((function(e){return e.id===t.payload.id&&e.firstName===t.payload.name}))});case f:return Object(d.a)(Object(d.a)({},e),{},{isLoading:t.payload});case h:return Object(d.a)(Object(d.a)({},e),{},{selectedUser:null,filterByState:t.payload,currentPage:1,filteredUsers:e.allUsers.filter((function(e){return e.adress.state===t.payload})),currentUsersData:e.allUsers.filter((function(e){return e.adress.state===t.payload}))});case _:return Object(d.a)(Object(d.a)({},e),{},{currentPage:1,filteredUsers:e.allUsers.filter((function(e){return e.firstName.toLowerCase().includes(t.payload.toLowerCase())})),currentUsersData:e.allUsers.filter((function(e){return e.firstName.toLowerCase().includes(t.payload.toLowerCase())})).slice(0,20)});case x:var a=t.payload.split(" "),c=Object(o.a)(a,2),n=c[0],i=c[1],l=1===e.currentPage?0:(e.currentPage-1)*e.pageLimit+1,v=1===e.currentPage?e.currentPage*e.pageLimit:e.currentPage*e.pageLimit+1;return Object(d.a)(Object(d.a)({},e),{},{sortBy:t.payload,filteredUsers:"asc"===i?e.filteredUsers.sort((function(e,t){return e[n]-t[n]})):e.filteredUsers.sort((function(e,t){return t[n]-e[n]})),currentUsersData:"asc"===i?e.filteredUsers.sort((function(e,t){return e[n]-t[n]})).slice(l,v):e.filteredUsers.sort((function(e,t){return t[n]-e[n]})).slice(l,v)});case g:var N=t.payload.split(" "),S=Object(o.a)(N,2),C=S[0],L=S[1],w=1===e.currentPage?0:(e.currentPage-1)*e.pageLimit+1,k=1===e.currentPage?e.currentPage*e.pageLimit:e.currentPage*e.pageLimit+1;return Object(d.a)(Object(d.a)({},e),{},{sortBy:t.payload,filteredUsers:"asc"===L?e.filteredUsers.sort((function(e,t){return t[C]>e[C]?1:t[C]<e[C]?-1:0})):e.filteredUsers.sort((function(e,t){return e[C]>t[C]?1:e[C]<t[C]?-1:0})),currentUsersData:"asc"===L?e.filteredUsers.sort((function(e,t){return t[C]>e[C]?1:t[C]<e[C]?-1:0})).slice(w,k):e.filteredUsers.sort((function(e,t){return e[C]>t[C]?1:e[C]<t[C]?-1:0})).slice(w,k)});case m:var E=t.payload.split(" "),P=Object(o.a)(E,2),B=P[0],T=P[1],I=1===e.currentPage?0:(e.currentPage-1)*e.pageLimit+1,R=1===e.currentPage?e.currentPage*e.pageLimit:e.currentPage*e.pageLimit+1;return Object(d.a)(Object(d.a)({},e),{},{sortBy:t.payload,filteredUsers:"asc"===T?e.filteredUsers.sort((function(e,t){return t.adress[B]>e.adress[B]?1:t.adress[B]<e.adress[B]?-1:0})):e.filteredUsers.sort((function(e,t){return e.adress[B]>t.adress[B]?1:e.adress[B]<t.adress[B]?-1:0})),currentUsersData:"asc"===T?e.filteredUsers.sort((function(e,t){return t.adress[B]>e.adress[B]?1:t.adress[B]<e.adress[B]?-1:0})).slice(I,R):e.filteredUsers.sort((function(e,t){return e.adress[B]>t.adress[B]?1:e.adress[B]<t.adress[B]?-1:0})).slice(I,R)});case y:return Object(d.a)(Object(d.a)({},e),{},{filteredUsers:e.allUsers,currentPage:1,selectedUser:null,currentUsersData:e.allUsers.slice(0,20)});default:return e}}),v(Object(i.a)(l.a))),S=r(3),C=r(5),L=r.n(C),w=r(11),k=r(19),E=r(20),P=function(){function e(){Object(k.a)(this,e)}return Object(E.a)(e,null,[{key:"getUsers",value:function(){var e=Object(w.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(this.url));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();P.url="https://itrex-react-lab-files.s3.eu-central-1.amazonaws.com/react-test-api.json";var B=function(e){return{type:j,payload:e}},T=function(e){return{type:f,payload:e}},I=function(e){return{type:x,payload:e}},R=function(e){return{type:g,payload:e}},A=function(e){return{type:m,payload:e}},D=r(0),F=function(e){var t=e.className,r=e.color,s=void 0===r?"#2C2C2C":r;return Object(D.jsx)("svg",{className:t,width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(D.jsx)("path",{d:"M10 5C10 5.16927 9.93815 5.31576 9.81445 5.43945C9.69075 5.56315 9.54427 5.625 9.375 5.625H0.625C0.455729 5.625 0.309245 5.56315 0.185547 5.43945C0.061849 5.31576 0 5.16927 0 5C0 4.83073 0.061849 4.68424 0.185547 4.56055L4.56055 0.185547C4.68424 0.061849 4.83073 0 5 0C5.16927 0 5.31576 0.061849 5.43945 0.185547L9.81445 4.56055C9.93815 4.68424 10 4.83073 10 5Z",fill:"".concat(s)})})},M=r(16),W=r.n(M),Y=function(e){var t=e.users,r=e.showUserInfo,s=e.selectedUser,a=Object(S.c)((function(e){return e})).sortBy,c=a.split(" "),n=Object(o.a)(c,2),i=n[0],l=n[1],u=Object(S.b)(),d=function(e){if(i===e){var t="asc"===l?"desc":"asc";u(R("".concat(i," ").concat(t)))}i!==e&&u(R("".concat(e," asc")))};return Object(D.jsxs)("table",{className:W.a.usersTable,children:[Object(D.jsx)("thead",{children:Object(D.jsxs)("tr",{children:[Object(D.jsxs)("th",{onClick:function(){return function(e){if(i===e){var t="asc"===l?"desc":"asc";u(I("".concat(i," ").concat(t)))}i!==e&&u(I("".concat(e," asc")))}("id")},children:[Object(D.jsx)("span",{children:"id"}),Object(D.jsx)(F,{className:"id desc"===a?"desc":""})]}),Object(D.jsxs)("th",{onClick:function(){return d("firstName")},children:[Object(D.jsx)("span",{children:"First name"}),Object(D.jsx)(F,{className:"firstName asc"===a?"desc":""})]}),Object(D.jsxs)("th",{onClick:function(){return d("lastName")},children:[Object(D.jsx)("span",{children:"Last name"}),Object(D.jsx)(F,{className:"lastName asc"===a?"desc":""})]}),Object(D.jsxs)("th",{onClick:function(){return d("email")},children:[Object(D.jsx)("span",{children:"Email"}),Object(D.jsx)(F,{className:"email asc"===a?"desc":""})]}),Object(D.jsxs)("th",{onClick:function(){return d("phone")},children:[Object(D.jsx)("span",{children:"Phone"}),Object(D.jsx)(F,{className:"phone asc"===a?"desc":""})]}),Object(D.jsxs)("th",{onClick:function(){return function(e){if(i===e){var t="asc"===l?"desc":"asc";u(A("".concat(i," ").concat(t)))}i!==e&&u(A("".concat(e," asc")))}("state")},children:[Object(D.jsx)("span",{children:"State"}),Object(D.jsx)(F,{className:"state asc"===a?"desc":""})]})]})}),Object(D.jsx)("tbody",{children:t.map((function(e){return Object(D.jsxs)("tr",{onClick:function(){return r(e.id,e.firstName)},className:(null===s||void 0===s?void 0:s.id)===e.id&&(null===s||void 0===s?void 0:s.firstName)===e.firstName?"".concat(W.a.activeRow):"",children:[Object(D.jsx)("td",{children:e.id}),Object(D.jsx)("td",{children:e.firstName}),Object(D.jsx)("td",{children:e.lastName}),Object(D.jsx)("td",{children:e.email}),Object(D.jsx)("td",{children:e.phone}),Object(D.jsx)("td",{children:e.adress.state})]},"".concat(e.firstName,"_").concat(e.lastName))}))})]})},G=r(17),X=r.n(G),Z=function(e){var t=e.user;return t?Object(D.jsxs)("div",{className:X.a.userInfoBlock,children:[Object(D.jsxs)("h3",{children:["Information about ","".concat(t.firstName),"_","".concat(t.lastName),":"]}),Object(D.jsxs)("ul",{children:[Object(D.jsxs)("li",{children:[Object(D.jsx)("span",{children:"First name:"}),t.firstName]}),Object(D.jsxs)("li",{children:[Object(D.jsx)("span",{children:"Last name:"}),t.lastName]}),Object(D.jsxs)("li",{children:[Object(D.jsx)("span",{children:"Email:"}),t.email]}),Object(D.jsxs)("li",{children:[Object(D.jsx)("span",{children:"Phone:"}),t.phone]}),Object(D.jsx)("li",{children:Object(D.jsx)("span",{children:"Adress:"})}),Object(D.jsxs)("ul",{children:[Object(D.jsxs)("li",{children:["State: ",t.adress.state]}),Object(D.jsxs)("li",{children:["City: ",t.adress.city]}),Object(D.jsxs)("li",{children:["Street: ",t.adress.streetAddress]}),Object(D.jsxs)("li",{children:["Zip code: ",t.adress.zip]})]}),Object(D.jsxs)("li",{children:[Object(D.jsx)("span",{children:"Description:"}),t.firstName]})]})]}):Object(D.jsx)("div",{className:X.a.userInfoMessage,children:Object(D.jsx)("h3",{children:"Please, check user to see additional information!"})})},z=r(21),H=r.n(z),V=function(e){return Object(D.jsxs)("div",{className:H.a.searchBlock,children:[Object(D.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(D.jsx)("path",{d:"M15.25 15.25L11.8855 11.8795L15.25 15.25ZM13.75 7.375C13.75 9.06576 13.0784 10.6873 11.8828 11.8828C10.6873 13.0784 9.06576 13.75 7.375 13.75C5.68424 13.75 4.06274 13.0784 2.86719 11.8828C1.67165 10.6873 1 9.06576 1 7.375C1 5.68424 1.67165 4.06274 2.86719 2.86719C4.06274 1.67165 5.68424 1 7.375 1C9.06576 1 10.6873 1.67165 11.8828 2.86719C13.0784 4.06274 13.75 5.68424 13.75 7.375V7.375Z",stroke:"#E4E4E4",strokeWidth:"2"})}),Object(D.jsx)("input",Object(d.a)({},e))]})},J=r(7),K=r.n(J),Q=function(e){var t=e.states,r=e.setFilterByState;return Object(D.jsxs)("ul",{onClick:function(e){if(!(e.target.textContent.length>2||""===e.target.textContent)){var t=e.target.textContent;r(t)}},className:K.a.popupBlock,children:[Object(D.jsx)("li",{onClick:function(){return r("ALL")},children:"ALL"}),t.map((function(e,t){return Object(D.jsx)("li",{children:e},t)}))]})},q=function(){var e=a.a.useState(!1),t=Object(o.a)(e,2),r=t[0],s=t[1],c=Object(S.c)((function(e){return e})).usersAdressStates,n=Object(S.b)();return Object(D.jsxs)("div",{className:K.a.wrapper,children:[Object(D.jsxs)("div",{className:K.a.filterBlock,onClick:function(){s((function(e){return!e}))},children:[Object(D.jsx)("span",{children:"Filter by state"}),Object(D.jsx)(F,{className:r?"asc":"desc",color:"#fff"})]}),r&&Object(D.jsx)(Q,{states:c,setFilterByState:function(e){"ALL"===e?(s(!1),n({type:y})):(s(!1),n(function(e){return{type:h,payload:e}}(e)))}})]})},$=r(8),ee=r.n($),te=function(e){var t=e.page,r=e.changePage,s=function(e){for(var t=[],r=0;r<e;r++)t.push(r+1);return t}(e.totalPages);return Object(D.jsx)("div",{className:ee.a.pageWrapper,children:s.map((function(e){return Object(D.jsx)("span",{onClick:function(){return r(e)},className:t===e?"".concat(ee.a.page," ").concat(ee.a.pageCurrent):"".concat(ee.a.page),children:e},e)}))})},re=function(){var e=Object(S.c)((function(e){return e})),t=e.isLoading,r=e.currentUsersData,s=e.selectedUser,c=e.totalPages,n=e.currentPage,i=e.error,l=Object(S.b)(),u=a.a.useState(""),d=Object(o.a)(u,2),j=d[0],f=d[1];a.a.useEffect((function(){l({type:_,payload:j})}),[j]),a.a.useEffect((function(){l(function(){var e=Object(w.a)(L.a.mark((function e(t){var r,s;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(T(!0)),e.prev=1,e.next=4,P.getUsers();case 4:return r=e.sent,e.next=7,r.json();case 7:s=e.sent,t(B(s)),t(T(!1)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),t((a=e.t0,{type:p,payload:a})),t(T(!1));case 16:case"end":return e.stop()}var a}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}())}),[]);return t?Object(D.jsx)("div",{className:"loading-block",children:Object(D.jsx)("h1",{children:"Loading..."})}):Object(D.jsx)("div",{className:"wrapper",children:i?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("h1",{children:"Failed load data..."}),Object(D.jsx)("p",{children:"".concat(i)})]}):Object(D.jsxs)(D.Fragment,{children:[Object(D.jsxs)("div",{className:"fields",children:[Object(D.jsx)(V,{value:j,onChange:function(e){return f(e.target.value)},placeholder:"Search by user..."}),Object(D.jsx)(q,{})]}),Object(D.jsx)(Y,{users:r,showUserInfo:function(e,t){l(function(e,t){return{type:O,payload:{id:e,name:t}}}(e,t))},selectedUser:s}),Object(D.jsx)(te,{page:n,changePage:function(e){l({type:b,payload:e})},totalPages:c}),Object(D.jsx)(Z,{user:s})]})})};n.a.render(Object(D.jsx)(S.a,{store:N,children:Object(D.jsx)(re,{})}),document.getElementById("root"))},7:function(e,t,r){e.exports={wrapper:"FilterByState_wrapper__2vVXz",filterBlock:"FilterByState_filterBlock__2HSME",popupBlock:"FilterByState_popupBlock__1bOiS"}},8:function(e,t,r){e.exports={pageWrapper:"Pagination_pageWrapper__EN7Od",page:"Pagination_page__2sFiX",pageCurrent:"Pagination_pageCurrent__2NMpF"}}},[[34,1,2]]]);
//# sourceMappingURL=main.9079192d.chunk.js.map