(this["webpackJsonpusers-table"]=this["webpackJsonpusers-table"]||[]).push([[0],{16:function(e,t,s){e.exports={usersTable:"Table_usersTable__1k1xp",activeRow:"Table_activeRow__3C0W5"}},17:function(e,t,s){e.exports={userInfoBlock:"UserInfo_userInfoBlock__1QgwS",userInfoMessage:"UserInfo_userInfoMessage__kGkA1"}},21:function(e,t,s){e.exports={searchBlock:"SearchByName_searchBlock__2700K"}},27:function(e,t,s){},34:function(e,t,s){"use strict";s.r(t);var r=s(1),a=s.n(r),c=s(9),n=s.n(c),i=(s(27),s(12)),l=s(18),o=s(4),u=s(22),d=s(2),j="GET_ALL_USERS",f="SET_ERROR",p="SET_IS_LOADING",b="SET_CURRENT_USER_DATA",O="SET_USER_INFO",h="FILTER_BY_STATE",x="SET_SORT_BY",m="SET_SORT_BY_STRING",g="SET_SORT_BY_ADRESS_STATE",y="FILTER_BY_FIRST_NAME",_={allUsers:[],filteredUsers:[],isLoading:!1,error:!1,currentUsersData:[],usersAdressStates:[],selectedUser:null,pageLimit:20,currentPage:1,totalPages:null,sortBy:"id asc"},v=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.b,U=Object(i.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(d.a)(Object(d.a)({},e),{},{usersAdressStates:Object(u.a)(new Set(t.payload.map((function(e){return e.adress.state})))),allUsers:t.payload.sort((function(e,t){return e.id-t.id})),filteredUsers:t.payload.sort((function(e,t){return e.id-t.id})),currentUsersData:t.payload.slice(0,20),totalPages:Math.ceil(t.payload.length/e.pageLimit)});case f:return Object(d.a)(Object(d.a)({},e),{},{error:t.payload});case b:var s=1===t.payload?0:(t.payload-1)*e.pageLimit+1;return Object(d.a)(Object(d.a)({},e),{},{currentPage:t.payload,selectedUser:null,currentUsersData:e.filteredUsers.slice(s,t.payload*e.pageLimit+1)});case O:return Object(d.a)(Object(d.a)({},e),{},{selectedUser:e.currentUsersData.find((function(e){return e.id===t.payload.id&&e.firstName===t.payload.name}))});case p:return Object(d.a)(Object(d.a)({},e),{},{isLoading:t.payload});case h:return Object(d.a)(Object(d.a)({},e),{},{selectedUser:null,filterByState:t.payload,currentPage:1,filteredUsers:e.allUsers.filter((function(e){return e.adress.state===t.payload})),currentUsersData:e.allUsers.filter((function(e){return e.adress.state===t.payload}))});case y:return Object(d.a)(Object(d.a)({},e),{},{currentPage:1,filteredUsers:e.allUsers.filter((function(e){return e.firstName.toLowerCase().includes(t.payload.toLowerCase())})),currentUsersData:e.allUsers.filter((function(e){return e.firstName.toLowerCase().includes(t.payload.toLowerCase())})).slice(0,20)});case x:var r=t.payload.split(" "),a=Object(o.a)(r,2),c=a[0],n=a[1],i=1===e.currentPage?0:(e.currentPage-1)*e.pageLimit+1,l=e.currentPage*e.pageLimit+1;return Object(d.a)(Object(d.a)({},e),{},{sortBy:t.payload,filteredUsers:"asc"===n?e.filteredUsers.sort((function(e,t){return e[c]-t[c]})):e.filteredUsers.sort((function(e,t){return t[c]-e[c]})),currentUsersData:"asc"===n?e.filteredUsers.sort((function(e,t){return e[c]-t[c]})).slice(i,l):e.filteredUsers.sort((function(e,t){return t[c]-e[c]})).slice(i,l)});case m:var v=t.payload.split(" "),U=Object(o.a)(v,2),N=U[0],S=U[1],C=1===e.currentPage?0:(e.currentPage-1)*e.pageLimit+1,k=e.currentPage*e.pageLimit+1;return Object(d.a)(Object(d.a)({},e),{},{sortBy:t.payload,filteredUsers:"asc"===S?e.filteredUsers.sort((function(e,t){return t[N]>e[N]?1:t[N]<e[N]?-1:0})):e.filteredUsers.sort((function(e,t){return e[N]>t[N]?1:e[N]<t[N]?-1:0})),currentUsersData:"asc"===S?e.filteredUsers.sort((function(e,t){return t[N]>e[N]?1:t[N]<e[N]?-1:0})).slice(C,k):e.filteredUsers.sort((function(e,t){return e[N]>t[N]?1:e[N]<t[N]?-1:0})).slice(C,k)});case g:var w=t.payload.split(" "),B=Object(o.a)(w,2),E=B[0],L=B[1],P=1===e.currentPage?0:(e.currentPage-1)*e.pageLimit+1,T=e.currentPage*e.pageLimit+1;return Object(d.a)(Object(d.a)({},e),{},{sortBy:t.payload,filteredUsers:"asc"===L?e.filteredUsers.sort((function(e,t){return t.adress[E]>e.adress[E]?1:t.adress[E]<e.adress[E]?-1:0})):e.filteredUsers.sort((function(e,t){return e.adress[E]>t.adress[E]?1:e.adress[E]<t.adress[E]?-1:0})),currentUsersData:"asc"===L?e.filteredUsers.sort((function(e,t){return t.adress[E]>e.adress[E]?1:t.adress[E]<e.adress[E]?-1:0})).slice(P,T):e.filteredUsers.sort((function(e,t){return e.adress[E]>t.adress[E]?1:e.adress[E]<t.adress[E]?-1:0})).slice(P,T)});default:return e}}),v(Object(i.a)(l.a))),N=s(3),S=s(5),C=s.n(S),k=s(11),w=s(19),B=s(20),E=function(){function e(){Object(w.a)(this,e)}return Object(B.a)(e,null,[{key:"getUsers",value:function(){var e=Object(k.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(this.url));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();E.url="https://itrex-react-lab-files.s3.eu-central-1.amazonaws.com/react-test-api.json";var L=function(e){return{type:j,payload:e}},P=function(e){return{type:p,payload:e}},T=function(e){return{type:x,payload:e}},I=function(e){return{type:m,payload:e}},R=function(e){return{type:g,payload:e}},F=s(0),D=function(e){var t=e.className,s=e.color,r=void 0===s?"#2C2C2C":s;return Object(F.jsx)("svg",{className:t,width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(F.jsx)("path",{d:"M10 5C10 5.16927 9.93815 5.31576 9.81445 5.43945C9.69075 5.56315 9.54427 5.625 9.375 5.625H0.625C0.455729 5.625 0.309245 5.56315 0.185547 5.43945C0.061849 5.31576 0 5.16927 0 5C0 4.83073 0.061849 4.68424 0.185547 4.56055L4.56055 0.185547C4.68424 0.061849 4.83073 0 5 0C5.16927 0 5.31576 0.061849 5.43945 0.185547L9.81445 4.56055C9.93815 4.68424 10 4.83073 10 5Z",fill:"".concat(r)})})},A=s(16),M=s.n(A),Y=function(e){var t=e.users,s=e.showUserInfo,r=e.selectedUser,a=Object(N.c)((function(e){return e})).sortBy,c=a.split(" "),n=Object(o.a)(c,2),i=n[0],l=n[1],u=Object(N.b)(),d=function(e){if(i===e){var t="asc"===l?"desc":"asc";u(I("".concat(i," ").concat(t)))}i!==e&&u(I("".concat(e," asc")))};return Object(F.jsxs)("table",{className:M.a.usersTable,children:[Object(F.jsx)("thead",{children:Object(F.jsxs)("tr",{children:[Object(F.jsxs)("th",{onClick:function(){return function(e){if(i===e){var t="asc"===l?"desc":"asc";u(T("".concat(i," ").concat(t)))}i!==e&&u(T("".concat(e," asc")))}("id")},children:[Object(F.jsx)("span",{children:"id"}),Object(F.jsx)(D,{className:"id desc"===a?"desc":""})]}),Object(F.jsxs)("th",{onClick:function(){return d("firstName")},children:[Object(F.jsx)("span",{children:"First name"}),Object(F.jsx)(D,{className:"firstName asc"===a?"desc":""})]}),Object(F.jsxs)("th",{onClick:function(){return d("lastName")},children:[Object(F.jsx)("span",{children:"Last name"}),Object(F.jsx)(D,{className:"lastName asc"===a?"desc":""})]}),Object(F.jsxs)("th",{onClick:function(){return d("email")},children:[Object(F.jsx)("span",{children:"Email"}),Object(F.jsx)(D,{className:"email asc"===a?"desc":""})]}),Object(F.jsxs)("th",{onClick:function(){return d("phone")},children:[Object(F.jsx)("span",{children:"Phone"}),Object(F.jsx)(D,{className:"phone asc"===a?"desc":""})]}),Object(F.jsxs)("th",{onClick:function(){return function(e){if(i===e){var t="asc"===l?"desc":"asc";u(R("".concat(i," ").concat(t)))}i!==e&&u(R("".concat(e," asc")))}("state")},children:[Object(F.jsx)("span",{children:"State"}),Object(F.jsx)(D,{className:"state asc"===a?"desc":""})]})]})}),Object(F.jsx)("tbody",{children:t.map((function(e){return Object(F.jsxs)("tr",{onClick:function(){return s(e.id,e.firstName)},className:(null===r||void 0===r?void 0:r.id)===e.id&&(null===r||void 0===r?void 0:r.firstName)===e.firstName?"".concat(M.a.activeRow):"",children:[Object(F.jsx)("td",{children:e.id}),Object(F.jsx)("td",{children:e.firstName}),Object(F.jsx)("td",{children:e.lastName}),Object(F.jsx)("td",{children:e.email}),Object(F.jsx)("td",{children:e.phone}),Object(F.jsx)("td",{children:e.adress.state})]},"".concat(e.firstName,"_").concat(e.lastName))}))})]})},G=s(17),W=s.n(G),X=function(e){var t=e.user;return t?Object(F.jsxs)("div",{className:W.a.userInfoBlock,children:[Object(F.jsxs)("h3",{children:["Information about ","".concat(t.firstName),"_","".concat(t.lastName),":"]}),Object(F.jsxs)("ul",{children:[Object(F.jsxs)("li",{children:[Object(F.jsx)("span",{children:"First name:"}),t.firstName]}),Object(F.jsxs)("li",{children:[Object(F.jsx)("span",{children:"Last name:"}),t.lastName]}),Object(F.jsxs)("li",{children:[Object(F.jsx)("span",{children:"Email:"}),t.email]}),Object(F.jsxs)("li",{children:[Object(F.jsx)("span",{children:"Phone:"}),t.phone]}),Object(F.jsx)("li",{children:Object(F.jsx)("span",{children:"Adress:"})}),Object(F.jsxs)("ul",{children:[Object(F.jsxs)("li",{children:["State: ",t.adress.state]}),Object(F.jsxs)("li",{children:["City: ",t.adress.city]}),Object(F.jsxs)("li",{children:["Street: ",t.adress.streetAddress]}),Object(F.jsxs)("li",{children:["Zip code: ",t.adress.zip]})]}),Object(F.jsxs)("li",{children:[Object(F.jsx)("span",{children:"Description:"}),t.firstName]})]})]}):Object(F.jsx)("div",{className:W.a.userInfoMessage,children:Object(F.jsx)("h3",{children:"Please, check user to see additional information!"})})},z=s(21),H=s.n(z),J=function(e){return Object(F.jsxs)("div",{className:H.a.searchBlock,children:[Object(F.jsx)("img",{src:"/image/search.svg",alt:"Search"}),Object(F.jsx)("input",Object(d.a)({},e))]})},V=s(7),Z=s.n(V),K=function(e){var t=e.states,s=e.setFilterByState;return Object(F.jsx)("ul",{onClick:function(e){if(!(e.target.textContent.length>2||""===e.target.textContent)){var t=e.target.textContent;s(t)}},className:Z.a.popupBlock,children:t.map((function(e,t){return Object(F.jsx)("li",{children:e},t)}))})},Q=function(){var e=a.a.useState(!1),t=Object(o.a)(e,2),s=t[0],r=t[1],c=Object(N.c)((function(e){return e})).usersAdressStates,n=Object(N.b)();return Object(F.jsxs)("div",{className:Z.a.wrapper,children:[Object(F.jsxs)("div",{className:Z.a.filterBlock,onClick:function(){r((function(e){return!e}))},children:[Object(F.jsx)("span",{children:"Filter by state"}),Object(F.jsx)(D,{className:s?"asc":"desc",color:"#fff"})]}),s&&Object(F.jsx)(K,{states:c,setFilterByState:function(e){r(!1),n(function(e){return{type:h,payload:e}}(e))}})]})},q=s(8),$=s.n(q),ee=function(e){var t=e.page,s=e.changePage,r=function(e){for(var t=[],s=0;s<e;s++)t.push(s+1);return t}(e.totalPages);return Object(F.jsx)("div",{className:$.a.pageWrapper,children:r.map((function(e){return Object(F.jsx)("span",{onClick:function(){return s(e)},className:t===e?"".concat($.a.page," ").concat($.a.pageCurrent):"".concat($.a.page),children:e},e)}))})},te=function(){var e=Object(N.c)((function(e){return e})),t=e.isLoading,s=e.currentUsersData,r=e.selectedUser,c=e.totalPages,n=e.currentPage,i=e.error,l=Object(N.b)(),u=a.a.useState(""),d=Object(o.a)(u,2),j=d[0],p=d[1];a.a.useEffect((function(){l({type:y,payload:j})}),[j]),a.a.useEffect((function(){l(function(){var e=Object(k.a)(C.a.mark((function e(t){var s,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(P(!0)),e.prev=1,e.next=4,E.getUsers();case 4:return s=e.sent,e.next=7,s.json();case 7:r=e.sent,t(L(r)),t(P(!1)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),t((a=e.t0,{type:f,payload:a})),t(P(!1));case 16:case"end":return e.stop()}var a}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}())}),[]);return t?Object(F.jsx)("div",{className:"loading-block",children:Object(F.jsx)("h1",{children:"Loading..."})}):Object(F.jsx)("div",{className:"wrapper",children:i?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("h1",{children:"Failed load data..."}),Object(F.jsx)("p",{children:"".concat(i)})]}):Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("div",{className:"fields",children:[Object(F.jsx)(J,{value:j,onChange:function(e){return p(e.target.value)},placeholder:"Search by user..."}),Object(F.jsx)(Q,{})]}),Object(F.jsx)(Y,{users:s,showUserInfo:function(e,t){l(function(e,t){return{type:O,payload:{id:e,name:t}}}(e,t))},selectedUser:r}),Object(F.jsx)(ee,{page:n,changePage:function(e){l({type:b,payload:e})},totalPages:c}),Object(F.jsx)(X,{user:r})]})})};n.a.render(Object(F.jsx)(N.a,{store:U,children:Object(F.jsx)(te,{})}),document.getElementById("root"))},7:function(e,t,s){e.exports={wrapper:"FilterByState_wrapper__2vVXz",filterBlock:"FilterByState_filterBlock__2HSME",popupBlock:"FilterByState_popupBlock__1bOiS"}},8:function(e,t,s){e.exports={pageWrapper:"Pagination_pageWrapper__EN7Od",page:"Pagination_page__2sFiX",pageCurrent:"Pagination_pageCurrent__2NMpF"}}},[[34,1,2]]]);
//# sourceMappingURL=main.cdfac65d.chunk.js.map